circuit MM2hdmi :
  module MM2hdmi :
    input clock : Clock
    input reset : UInt<1>
    input io_data : UInt<16>
    input io_newData : UInt<1>
    output io_red : UInt<8>
    output io_vSync : UInt<1>
    output io_hSync : UInt<1>
  
    reg regNewData : UInt<1>, clock with :
      reset => (UInt<1>("h0"), regNewData) @[mm2hdmi.scala 17:27]
    reg regRow : UInt<5>, clock with :
      reset => (UInt<1>("h0"), regRow) @[mm2hdmi.scala 19:23]
    node _T = eq(io_newData, UInt<1>("h1")) @[mm2hdmi.scala 20:19]
    node _T_1 = add(regRow, UInt<1>("h1")) @[mm2hdmi.scala 21:22]
    node _T_2 = tail(_T_1, 1) @[mm2hdmi.scala 21:22]
    node _GEN_0 = mux(_T, _T_2, regRow) @[mm2hdmi.scala 20:28]
    reg regVSync : UInt<1>, clock with :
      reset => (UInt<1>("h0"), regVSync) @[mm2hdmi.scala 24:25]
    node _T_3 = eq(regRow, UInt<5>("h1f")) @[mm2hdmi.scala 25:15]
    node _T_4 = eq(io_newData, UInt<1>("h1")) @[mm2hdmi.scala 25:38]
    node _T_5 = and(_T_3, _T_4) @[mm2hdmi.scala 25:24]
    node _T_6 = add(regVSync, UInt<1>("h1")) @[mm2hdmi.scala 26:26]
    node _T_7 = tail(_T_6, 1) @[mm2hdmi.scala 26:26]
    node _GEN_1 = mux(_T_5, _T_7, UInt<1>("h0")) @[mm2hdmi.scala 25:47]
    reg regData : UInt<16>, clock with :
      reset => (UInt<1>("h0"), regData) @[mm2hdmi.scala 32:24]
    node _T_8 = bits(regData, 0, 0) @[mm2hdmi.scala 34:39]
    node _T_9 = eq(_T_8, UInt<1>("h0")) @[mm2hdmi.scala 34:43]
    node _T_10 = mux(_T_9, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 34:31]
    reg regMuxRed0 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed0) @[mm2hdmi.scala 34:27]
    node _T_11 = bits(regData, 1, 1) @[mm2hdmi.scala 35:39]
    node _T_12 = eq(_T_11, UInt<1>("h0")) @[mm2hdmi.scala 35:43]
    node _T_13 = mux(_T_12, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 35:31]
    reg regMuxRed1 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed1) @[mm2hdmi.scala 35:27]
    node _T_14 = bits(regData, 2, 2) @[mm2hdmi.scala 36:39]
    node _T_15 = eq(_T_14, UInt<1>("h0")) @[mm2hdmi.scala 36:43]
    node _T_16 = mux(_T_15, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 36:31]
    reg regMuxRed2 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed2) @[mm2hdmi.scala 36:27]
    node _T_17 = bits(regData, 3, 3) @[mm2hdmi.scala 37:39]
    node _T_18 = eq(_T_17, UInt<1>("h0")) @[mm2hdmi.scala 37:43]
    node _T_19 = mux(_T_18, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 37:31]
    reg regMuxRed3 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed3) @[mm2hdmi.scala 37:27]
    node _T_20 = bits(regData, 4, 4) @[mm2hdmi.scala 38:39]
    node _T_21 = eq(_T_20, UInt<1>("h0")) @[mm2hdmi.scala 38:43]
    node _T_22 = mux(_T_21, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 38:31]
    reg regMuxRed4 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed4) @[mm2hdmi.scala 38:27]
    node _T_23 = bits(regData, 5, 5) @[mm2hdmi.scala 39:39]
    node _T_24 = eq(_T_23, UInt<1>("h0")) @[mm2hdmi.scala 39:43]
    node _T_25 = mux(_T_24, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 39:31]
    reg regMuxRed5 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed5) @[mm2hdmi.scala 39:27]
    node _T_26 = bits(regData, 6, 6) @[mm2hdmi.scala 40:39]
    node _T_27 = eq(_T_26, UInt<1>("h0")) @[mm2hdmi.scala 40:43]
    node _T_28 = mux(_T_27, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 40:31]
    reg regMuxRed6 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed6) @[mm2hdmi.scala 40:27]
    node _T_29 = bits(regData, 7, 7) @[mm2hdmi.scala 41:39]
    node _T_30 = eq(_T_29, UInt<1>("h0")) @[mm2hdmi.scala 41:43]
    node _T_31 = mux(_T_30, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 41:31]
    reg regMuxRed7 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed7) @[mm2hdmi.scala 41:27]
    node _T_32 = bits(regData, 8, 8) @[mm2hdmi.scala 42:39]
    node _T_33 = eq(_T_32, UInt<1>("h0")) @[mm2hdmi.scala 42:43]
    node _T_34 = mux(_T_33, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 42:31]
    reg regMuxRed8 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed8) @[mm2hdmi.scala 42:27]
    node _T_35 = bits(regData, 9, 9) @[mm2hdmi.scala 43:39]
    node _T_36 = eq(_T_35, UInt<1>("h0")) @[mm2hdmi.scala 43:43]
    node _T_37 = mux(_T_36, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 43:31]
    reg regMuxRed9 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed9) @[mm2hdmi.scala 43:27]
    node _T_38 = bits(regData, 10, 10) @[mm2hdmi.scala 44:40]
    node _T_39 = eq(_T_38, UInt<1>("h0")) @[mm2hdmi.scala 44:45]
    node _T_40 = mux(_T_39, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 44:32]
    reg regMuxRed10 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed10) @[mm2hdmi.scala 44:28]
    node _T_41 = bits(regData, 11, 11) @[mm2hdmi.scala 45:40]
    node _T_42 = eq(_T_41, UInt<1>("h0")) @[mm2hdmi.scala 45:45]
    node _T_43 = mux(_T_42, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 45:32]
    reg regMuxRed11 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed11) @[mm2hdmi.scala 45:28]
    node _T_44 = bits(regData, 12, 12) @[mm2hdmi.scala 46:40]
    node _T_45 = eq(_T_44, UInt<1>("h0")) @[mm2hdmi.scala 46:45]
    node _T_46 = mux(_T_45, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 46:32]
    reg regMuxRed12 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed12) @[mm2hdmi.scala 46:28]
    node _T_47 = bits(regData, 13, 13) @[mm2hdmi.scala 47:40]
    node _T_48 = eq(_T_47, UInt<1>("h0")) @[mm2hdmi.scala 47:45]
    node _T_49 = mux(_T_48, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 47:32]
    reg regMuxRed13 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed13) @[mm2hdmi.scala 47:28]
    node _T_50 = bits(regData, 14, 14) @[mm2hdmi.scala 48:40]
    node _T_51 = eq(_T_50, UInt<1>("h0")) @[mm2hdmi.scala 48:45]
    node _T_52 = mux(_T_51, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 48:32]
    reg regMuxRed14 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed14) @[mm2hdmi.scala 48:28]
    node _T_53 = bits(regData, 15, 15) @[mm2hdmi.scala 49:40]
    node _T_54 = eq(_T_53, UInt<1>("h0")) @[mm2hdmi.scala 49:45]
    node _T_55 = mux(_T_54, UInt<1>("h0"), UInt<8>("hff")) @[mm2hdmi.scala 49:32]
    reg regMuxRed15 : UInt<8>, clock with :
      reset => (UInt<1>("h0"), regMuxRed15) @[mm2hdmi.scala 49:28]
    reg outControlCounter : UInt<4>, clock with :
      reset => (UInt<1>("h0"), outControlCounter) @[mm2hdmi.scala 51:34]
    node _T_56 = eq(outControlCounter, UInt<4>("hf")) @[mm2hdmi.scala 52:46]
    node _T_57 = eq(regNewData, UInt<1>("h1")) @[mm2hdmi.scala 52:69]
    node _T_58 = or(_T_56, _T_57) @[mm2hdmi.scala 52:55]
    node _T_59 = add(outControlCounter, UInt<1>("h1")) @[mm2hdmi.scala 52:101]
    node _T_60 = tail(_T_59, 1) @[mm2hdmi.scala 52:101]
    node _T_61 = mux(_T_58, UInt<1>("h0"), _T_60) @[mm2hdmi.scala 52:27]
    node _T_62 = eq(outControlCounter, UInt<1>("h0")) @[mm2hdmi.scala 54:27]
    node _T_63 = eq(outControlCounter, UInt<1>("h1")) @[mm2hdmi.scala 57:32]
    node _T_64 = eq(outControlCounter, UInt<2>("h2")) @[mm2hdmi.scala 60:32]
    node _T_65 = eq(outControlCounter, UInt<2>("h3")) @[mm2hdmi.scala 63:32]
    node _T_66 = eq(outControlCounter, UInt<3>("h4")) @[mm2hdmi.scala 66:32]
    node _T_67 = eq(outControlCounter, UInt<3>("h5")) @[mm2hdmi.scala 69:32]
    node _T_68 = eq(outControlCounter, UInt<3>("h6")) @[mm2hdmi.scala 72:32]
    node _T_69 = eq(outControlCounter, UInt<3>("h7")) @[mm2hdmi.scala 75:32]
    node _T_70 = eq(outControlCounter, UInt<4>("h8")) @[mm2hdmi.scala 78:32]
    node _T_71 = eq(outControlCounter, UInt<4>("h9")) @[mm2hdmi.scala 81:32]
    node _T_72 = eq(outControlCounter, UInt<4>("ha")) @[mm2hdmi.scala 84:32]
    node _T_73 = eq(outControlCounter, UInt<4>("hb")) @[mm2hdmi.scala 87:32]
    node _T_74 = eq(outControlCounter, UInt<4>("hc")) @[mm2hdmi.scala 90:32]
    node _T_75 = eq(outControlCounter, UInt<4>("hd")) @[mm2hdmi.scala 93:32]
    node _T_76 = eq(outControlCounter, UInt<4>("he")) @[mm2hdmi.scala 96:32]
    node _GEN_2 = mux(_T_76, regMuxRed14, regMuxRed15) @[mm2hdmi.scala 96:42]
    node _GEN_3 = mux(_T_75, regMuxRed13, _GEN_2) @[mm2hdmi.scala 93:42]
    node _GEN_4 = mux(_T_74, regMuxRed12, _GEN_3) @[mm2hdmi.scala 90:42]
    node _GEN_5 = mux(_T_73, regMuxRed11, _GEN_4) @[mm2hdmi.scala 87:42]
    node _GEN_6 = mux(_T_72, regMuxRed10, _GEN_5) @[mm2hdmi.scala 84:42]
    node _GEN_7 = mux(_T_71, regMuxRed9, _GEN_6) @[mm2hdmi.scala 81:41]
    node _GEN_8 = mux(_T_70, regMuxRed8, _GEN_7) @[mm2hdmi.scala 78:41]
    node _GEN_9 = mux(_T_69, regMuxRed7, _GEN_8) @[mm2hdmi.scala 75:41]
    node _GEN_10 = mux(_T_68, regMuxRed6, _GEN_9) @[mm2hdmi.scala 72:41]
    node _GEN_11 = mux(_T_67, regMuxRed5, _GEN_10) @[mm2hdmi.scala 69:41]
    node _GEN_12 = mux(_T_66, regMuxRed4, _GEN_11) @[mm2hdmi.scala 66:41]
    node _GEN_13 = mux(_T_65, regMuxRed3, _GEN_12) @[mm2hdmi.scala 63:41]
    node _GEN_14 = mux(_T_64, regMuxRed2, _GEN_13) @[mm2hdmi.scala 60:41]
    node _GEN_15 = mux(_T_63, regMuxRed1, _GEN_14) @[mm2hdmi.scala 57:41]
    node _GEN_16 = mux(_T_62, regMuxRed0, _GEN_15) @[mm2hdmi.scala 54:36]
    io_red <= _GEN_16 @[mm2hdmi.scala 55:12 mm2hdmi.scala 58:12 mm2hdmi.scala 61:12 mm2hdmi.scala 64:12 mm2hdmi.scala 67:12 mm2hdmi.scala 70:12 mm2hdmi.scala 73:12 mm2hdmi.scala 76:12 mm2hdmi.scala 79:12 mm2hdmi.scala 82:12 mm2hdmi.scala 85:12 mm2hdmi.scala 88:12 mm2hdmi.scala 91:12 mm2hdmi.scala 94:12 mm2hdmi.scala 97:12 mm2hdmi.scala 100:12]
    io_vSync <= regVSync @[mm2hdmi.scala 104:12]
    io_hSync <= regNewData @[mm2hdmi.scala 103:12]
    regNewData <= io_newData @[mm2hdmi.scala 17:27]
    regRow <= mux(reset, UInt<5>("h0"), _GEN_0) @[mm2hdmi.scala 21:12]
    regVSync <= mux(reset, UInt<1>("h0"), _GEN_1) @[mm2hdmi.scala 26:14 mm2hdmi.scala 29:14]
    regData <= io_data @[mm2hdmi.scala 32:24]
    regMuxRed0 <= _T_10 @[mm2hdmi.scala 34:27]
    regMuxRed1 <= _T_13 @[mm2hdmi.scala 35:27]
    regMuxRed2 <= _T_16 @[mm2hdmi.scala 36:27]
    regMuxRed3 <= _T_19 @[mm2hdmi.scala 37:27]
    regMuxRed4 <= _T_22 @[mm2hdmi.scala 38:27]
    regMuxRed5 <= _T_25 @[mm2hdmi.scala 39:27]
    regMuxRed6 <= _T_28 @[mm2hdmi.scala 40:27]
    regMuxRed7 <= _T_31 @[mm2hdmi.scala 41:27]
    regMuxRed8 <= _T_34 @[mm2hdmi.scala 42:27]
    regMuxRed9 <= _T_37 @[mm2hdmi.scala 43:27]
    regMuxRed10 <= _T_40 @[mm2hdmi.scala 44:28]
    regMuxRed11 <= _T_43 @[mm2hdmi.scala 45:28]
    regMuxRed12 <= _T_46 @[mm2hdmi.scala 46:28]
    regMuxRed13 <= _T_49 @[mm2hdmi.scala 47:28]
    regMuxRed14 <= _T_52 @[mm2hdmi.scala 48:28]
    regMuxRed15 <= _T_55 @[mm2hdmi.scala 49:28]
    outControlCounter <= mux(reset, UInt<4>("h0"), _T_61) @[mm2hdmi.scala 52:21]
